#!/bin/bash

# deps: bash, coreutils, apt, dialog, grep
# + aptitude, nala (optional)
# Last update 2025/05/13 by pavroo

DIALOG="`which dialog`"
YESNO="--yesno "
HEIGHT="20"
WIDTH="80"
MENUHEIGHT="12"
TITLE="--title "
ENTRY="--inputbox "
MENU="--menu"
TEXT=""
TITLETEXT="Sparky Package Tool (SPT)"

$DIALOG $TITLE"$TITLETEXT" $MENU $TEXT"\nChoose Package Manager Interface" $HEIGHT $WIDTH $MENUHEIGHT \
APT "Advanced Package Tool" \
Aptitude "Front-end to APT" \
Nala "Front-end for libapt-pkg" \
Exit "Exit" 2>/tmp/choice.$$

FRONTEND=`cat /tmp/choice.$$`

if [ "$?" = "0" ]; then
	FRONTEND=`cat /tmp/choice.$$`
else
	exit 0
fi
rm /tmp/choice.$$

if [ "$FRONTEND" = "APT" ]; then
	spta
elif [ "$FRONTEND" = "Aptitude" ]; then
	sptt
elif [ "$FRONTEND" = "Nala" ]; then
	sptn
else
	clear
	exit 0	
fi

exit 0
